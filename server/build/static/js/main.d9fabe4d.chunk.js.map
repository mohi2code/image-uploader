{"version":3,"sources":["Home.js","Loading.js","After.js","App.js","reportWebVitals.js","index.js"],"names":["Home","setImage","history","useHistory","handle","e","dropArea","target","eventType","type","preventDefault","stopPropagation","classList","add","remove","file","dataTransfer","files","includes","alert","push","className","style","marginTop","onDragEnter","onDragOver","onDragLeave","onDrop","id","fontSize","color","onChange","display","accept","onClick","document","getElementById","click","Loading","API_URL","image","useEffect","setTimeout","formData","FormData","append","axios","post","headers","then","res","data","recieved","name","filename","height","width","After","URL","src","objectFit","tempInput","createElement","value","body","appendChild","select","execCommand","removeChild","App","useState","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.d9fabe4d.chunk.js","sourcesContent":["import { Redirect, useHistory } from \"react-router-dom\";\r\n\r\nexport default function Home({setImage}) { \r\n    const history  = useHistory();\r\n\r\n    function handle(e) {\r\n      const dropArea = e.target;\r\n      const eventType = e.type;\r\n  \r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n  \r\n      if (eventType == 'dragenter' || eventType == 'dragover')\r\n        highlight();\r\n  \r\n      if (eventType == 'dragleave' || eventType == 'drop')\r\n        unhighlight();\r\n  \r\n      if (eventType == 'drop') {\r\n        let fileTypes = ['image/png', 'image/jpeg']\r\n        let file = e.dataTransfer.files[0]\r\n\r\n        if (file){ \r\n          if (!fileTypes.includes(file.type))\r\n            alert('you can only upload images !')\r\n  \r\n          setImage({file});\r\n          history.push('/loading');\r\n        }\r\n          \r\n      }\r\n      \r\n      function highlight(e) {\r\n        dropArea.classList.add('highlight')\r\n      }\r\n      \r\n      function unhighlight(e) {\r\n        dropArea.classList.remove('highlight')\r\n      }\r\n  \r\n      return false;\r\n    }\r\n\r\n    function upload(e) {\r\n      document.getElementById('upload').click()\r\n    }\r\n\r\n    function change(e) {\r\n      const file = e.target.files[0];\r\n      setImage({file});\r\n      history.push('/loading');\r\n    }\r\n      \r\n    return (\r\n      <main>\r\n        <section className=\"upload-wrap\">\r\n          <h3 style={{marginTop: '36px'}}>Upload your image</h3>\r\n          <small>File should be Jpeg, Png,...</small>\r\n          <div \r\n            onDragEnter={handle} onDragOver={handle}\r\n            onDragLeave={handle} onDrop={handle}\r\n          id=\"add-drop\" className=\"add-drop\">\r\n            <h6 style={{fontSize: '12px', color: '#BDBDBD', marginTop: 'auto'}}>Drag & Drop your image here</h6>\r\n          </div>\r\n          <h6 style={{fontSize: '12px', color: '#BDBDBD'}}>Or</h6>\r\n          <div>\r\n            <input onChange={change} id=\"upload\" style={{display: 'none'}} type=\"file\" accept=\"image/png, image/jpeg\"></input>\r\n            <button onClick={upload}>Choose a file</button>\r\n          </div>\r\n        </section>\r\n      </main>\r\n    );\r\n  }","import { useEffect } from \"react\";\r\nimport axios from 'axios'\r\nimport ReactLoading from 'react-loading';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function Loading({API_URL, image, setImage}) {\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n      setTimeout(() => {\r\n          const formData = new FormData();\r\n          formData.append('image', image.file);\r\n          axios.post(`${API_URL}/`, formData, {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data'\r\n            }\r\n          }).then(res => {\r\n            if (res.data.recieved){\r\n              setImage({...image, name: res.data.filename})\r\n              history.push('/after');\r\n            }\r\n          });\r\n      }, 1600)\r\n    }, [])\r\n\r\n    return (\r\n      <main>\r\n        <ReactLoading type={'bars'} color={'#2F80ED'} height={'20%'} width={'20%'}/>\r\n      </main>\r\n    ); \r\n  }\r\n  ","import { useHistory } from 'react-router-dom'\r\n\r\nexport default function After({URL, image}) {\r\n    const history = useHistory();\r\n\r\n    function copy() {\r\n        var tempInput = document.createElement(\"input\");\r\n        tempInput.value = `${URL}/images/${image.name}`;\r\n        document.body.appendChild(tempInput);\r\n        tempInput.select();\r\n        document.execCommand(\"copy\");\r\n        document.body.removeChild(tempInput);\r\n        // document.execCommand('copy', true, );\r\n    }\r\n\r\n    return (\r\n        <main>\r\n            <section className=\"upload-wrap\">\r\n                <div className=\"after\">\r\n                    <img src=\"tick.svg\" style={{width: '35px'}}/>\r\n                    <h3 style={{marginTop: '36px'}}>Uploaded Successfully !</h3>\r\n                    <img style={{width: '100%', height: '100%', objectFit: 'contain'}} src={`${URL}/images/${image.name}`}/>\r\n                    <button onClick={copy} style={{marginTop: '20px'}}>Copy Link</button>\r\n                    <button style={{marginTop: '10px'}} onClick={(e) => history.push('/')}>Add another Image</button>\r\n                </div>\r\n            </section>\r\n        </main>\r\n    );\r\n}","import {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport Home from './Home';\nimport Loading from './Loading';\nimport After from './After'\nimport './App.css';\nimport { useState } from \"react\";\n\nfunction App() {\n  const API_URL = 'http://localhost:1337/api/v1';\n  const URL = 'http://localhost:1337';\n  const [image, setImage] = useState({});\n\n  return (\n    <Router>\n      <div>\n        <Switch>\n          <Route exact path=\"/\">\n            <Home setImage={setImage}/>\n          </Route>\n          <Route path=\"/loading\">\n            <Loading API_URL={API_URL} image={image} setImage={setImage}/>\n          </Route>\n          <Route path=\"/after\">\n            <After URL={URL} image={image}/>\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}